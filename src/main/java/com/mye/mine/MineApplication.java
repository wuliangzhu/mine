package com.mye.mine;

import com.mye.mine.service.HistoryService;
import com.mye.mine.service.MergeExcelService;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.beans.factory.config.YamlPropertiesFactoryBean;
import org.springframework.boot.CommandLineRunner;
import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.context.annotation.Bean;
import org.springframework.context.support.PropertySourcesPlaceholderConfigurer;
import org.springframework.core.io.ClassPathResource;
import org.springframework.scheduling.annotation.EnableScheduling;

import java.util.Arrays;

@EnableScheduling
@SpringBootApplication
public class MineApplication implements CommandLineRunner {
    @Autowired
    private HistoryService historyService;
    @Autowired
    private MergeExcelService mergeExcelService;

//    @Bean
//    public static PropertySourcesPlaceholderConfigurer properties() {
//        PropertySourcesPlaceholderConfigurer configurer = new PropertySourcesPlaceholderConfigurer();
//        YamlPropertiesFactoryBean yaml = new YamlPropertiesFactoryBean();
////        yaml.setResources(new FileSystemResource("config.yml"));//File引入
//        yaml.setResources(new ClassPathResource("application-watch.yml"));//class引入
//        configurer.setProperties(yaml.getObject());
//
//        return configurer;
//    }
    public static void main(String[] args) {
        SpringApplication.run(MineApplication.class, args);
    }

    @Override
    public void run(String[] args) throws Exception{
//        this.handleRepaire();
//        this.handleNormal();
//        handleLastOfflineTime();
        handleExcel();
    }

    public void handleExcel() {
        mergeExcelService.saveFile2Db("/Users/wuliangzhu/Downloads/deviceData/动环温度值");
        mergeExcelService.saveFile2Db("/Users/wuliangzhu/Downloads/deviceData/交流电压");
        mergeExcelService.saveFile2Db("/Users/wuliangzhu/Downloads/deviceData/交流电流");
        mergeExcelService.saveFile2Db("/Users/wuliangzhu/Downloads/deviceData/直流电流");
        mergeExcelService.saveFile2Db("/Users/wuliangzhu/Downloads/deviceData/直流电压");
    }

    public void handleLastOfflineTime() {
        String tidConfig = "12532,V15 明心楼,217,EC-B1-00-00-00-01-11-7C,95,2020-05-12 02:30:14\n" +
                "12594,V15 明心楼,423,EC-B1-00-00-00-01-11-FD,89,2020-05-14 21:15:25\n" +
                "12600,V15 明心楼,501,EC-B1-00-00-00-00-C6-2A,82,2020-05-11 16:11:03\n" +
                "12607,V15 明心楼,508,EC-B1-00-00-00-00-FF-41,112,2020-05-14 18:36:06\n" +
                "13368,V16 尚贤楼,414,EC-B1-00-00-00-00-C7-E2,102,2020-05-13 15:17:16\n" +
                "13425,V16 尚贤楼,609,EC-B1-00-00-00-00-DA-54,98,2020-05-12 15:45:51\n" +
                "13426,V16 尚贤楼,610,EC-B1-00-00-00-00-CD-06,91,2020-05-12 15:23:02\n" +
                "12736,V17 仁爱楼,425,EC-B1-00-00-00-00-CF-0B,108,2020-05-13 15:01:12\n" +
                "12774,V17 仁爱楼,607,EC-B1-00-00-00-00-D4-A4,0,2020-05-14 16:00:50\n" +
                "13101,V18 抱朴楼,226,EC-B1-00-00-00-01-0F-B3,114,2020-05-11 19:11:32\n" +
                "13286,V18 抱朴楼,825,EC-B1-00-00-00-00-DA-23,111,2020-05-12 08:59:10\n" +
                "12959,V19 真知楼,224,EC-B1-00-00-00-01-0A-43,108,2020-05-14 18:07:26\n" +
                "12962,V19 真知楼,227,EC-B1-00-00-00-01-11-E6,108,2020-05-10 22:02:05\n" +
                "12384,V20 笃行楼,209,EC-B1-00-00-00-00-DD-6D,107,2020-05-10 11:19:15\n" +
                "12307,V21 博文楼,416,EC-B1-00-00-00-01-12-22,107,2020-05-12 13:00:12\n" +
                "12374,V21 博文楼,627,EC-B1-00-00-00-00-DE-8A,112,2020-05-11 11:31:29\n" +
                "12798,V22 雅志楼,203,EC-B1-00-00-00-00-FA-BB,109,2020-05-12 06:25:10\n" +
                "12846,V22 雅志楼,323,EC-B1-00-00-00-00-ED-47,107,2020-05-13 09:13:05\n" +
                "12897,V22 雅志楼,518,EC-B1-00-00-00-00-ED-33,78,2020-05-11 11:29:43\n" +
                "12898,V22 雅志楼,519,EC-B1-00-00-00-00-ED-09,66,2020-05-11 11:20:40\n" +
                "12930,V22 雅志楼,623,EC-B1-00-00-00-00-EF-C0,32,2020-05-13 09:17:26\n" +
                "14380,V24 阳明楼,240,EC-B1-00-00-00-00-E6-22,92,2020-05-11 05:59:52\n" +
                "14385,V24 阳明楼,305,EC-B1-00-00-00-00-F4-6E,86,2020-05-12 16:04:48\n" +
                "14392,V24 阳明楼,312,EC-B1-00-02-00-00-22-0A,888,2020-05-13 09:34:53\n" +
                "14471,V24 阳明楼,511,EC-B1-00-00-00-00-FF-D5,98,2020-05-14 09:27:58\n" +
                "14480,V24 阳明楼,520,EC-B1-00-00-00-00-DC-85,101,2020-05-13 09:08:12\n" +
                "13718,V26 歌德楼,301,EC-B1-00-00-00-00-E6-95,99,2020-05-11 12:56:25\n" +
                "13758,V26 歌德楼,406,EC-B1-00-00-00-00-F4-CB,109,2020-05-13 09:59:53\n" +
                "13764,V26 歌德楼,412,EC-B1-00-00-00-00-ED-75,110,2020-05-11 13:48:32\n" +
                "13770,V26 歌德楼,418,EC-B1-00-00-00-00-E6-8C,99,2020-05-14 15:52:21\n" +
                "13781,V26 歌德楼,429,EC-B1-00-00-00-00-FB-DB,112,2020-05-13 10:12:04\n" +
                "13802,V26 歌德楼,510,EC-B1-00-00-00-00-DF-B7,110,2020-05-13 12:53:14\n" +
                "13815,V26 歌德楼,523,EC-B1-00-00-00-00-ED-26,100,2020-05-13 14:07:31\n" +
                "13863,V26 歌德楼,631,EC-B1-00-00-00-00-F1-F6,115,2020-05-14 17:51:54\n" +
                "13877,V26 歌德楼,705,EC-B1-00-00-00-00-DF-DB,83,2020-05-12 13:37:26\n" +
                "13900,V26 歌德楼,728,EC-B1-00-00-00-00-F5-80,103,2020-05-14 16:06:44\n" +
                "13910,V26 歌德楼,738,EC-B1-00-00-00-00-F5-C9,90,2020-05-11 16:12:26\n" +
                "14619,V27 雨果楼,404,EC-B1-00-00-00-00-DB-82,73,2020-05-11 10:19:27\n" +
                "14622,V27 雨果楼,407,EC-B1-00-00-00-00-DB-C2,100,2020-05-11 10:14:35\n" +
                "14626,V27 雨果楼,411,EC-B1-00-00-00-00-DB-AC,113,2020-05-11 10:13:20\n" +
                "14629,V27 雨果楼,414,EC-B1-00-00-00-00-DB-77,79,2020-05-11 10:15:38\n" +
                "14632,V27 雨果楼,417,EC-B1-00-00-00-00-F4-78,101,2020-05-11 10:17:37\n" +
                "14640,V27 雨果楼,425,EC-B1-00-00-00-00-EA-E6,98,2020-05-13 21:21:36\n" +
                "14646,V27 雨果楼,431,EC-B1-00-00-00-00-EB-25,87,2020-05-13 21:20:36\n" +
                "14697,V27 雨果楼,602,EC-B1-00-00-00-00-EF-8D,95,2020-05-11 10:14:47\n" +
                "14700,V27 雨果楼,605,EC-B1-00-00-00-00-F6-2E,89,2020-05-11 10:10:40\n" +
                "14703,V27 雨果楼,608,EC-B1-00-00-00-00-EF-C8,98,2020-05-11 10:12:44\n" +
                "14708,V27 雨果楼,613,EC-B1-00-00-00-00-FB-05,81,2020-05-11 10:19:40\n" +
                "14711,V27 雨果楼,616,EC-B1-00-00-00-00-EF-42,98,2020-05-11 10:15:55\n" +
                "14716,V27 雨果楼,621,EC-B1-00-00-00-00-EF-C7,76,2020-05-11 10:16:36\n" +
                "14719,V27 雨果楼,624,EC-B1-00-00-00-00-F6-3F,85,2020-05-11 10:16:35\n" +
                "14730,V27 雨果楼,635,EC-B1-00-00-00-00-D5-99,121,2020-05-14 07:38:36\n" +
                "14732,V27 雨果楼,637,EC-B1-00-00-00-00-EB-63,82,2020-05-11 10:15:39\n" +
                "14747,V27 雨果楼,712,EC-B1-00-00-00-00-CB-E4,117,2020-05-14 18:33:00\n" +
                "13913,V28 莎翁楼,201,EC-B1-00-00-00-00-ED-1B,94,2020-05-13 21:21:59\n" +
                "13916,V28 莎翁楼,204,EC-B1-00-00-00-00-F0-52,95,2020-05-13 21:28:19\n" +
                "13919,V28 莎翁楼,207,EC-B1-00-00-00-00-FA-B8,107,2020-05-13 21:21:55\n" +
                "13921,V28 莎翁楼,209,EC-B1-00-00-00-00-F0-25,88,2020-05-11 14:48:33\n" +
                "13922,V28 莎翁楼,210,EC-B1-00-00-00-00-E9-FC,88,2020-05-13 21:28:07\n" +
                "13925,V28 莎翁楼,213,EC-B1-00-00-00-00-F0-54,96,2020-05-13 21:28:32\n" +
                "13928,V28 莎翁楼,216,EC-B1-00-00-00-00-ED-68,87,2020-05-13 21:25:24\n" +
                "13940,V28 莎翁楼,228,EC-B1-00-00-00-00-FA-99,86,2020-05-13 21:21:12\n" +
                "13943,V28 莎翁楼,231,EC-B1-00-00-00-00-F0-2D,86,2020-05-13 21:27:34\n" +
                "14029,V28 莎翁楼,504,EC-B1-00-00-00-00-FA-F0,102,2020-05-13 11:10:01\n" +
                "14090,V28 莎翁楼,625,EC-B1-00-00-00-00-FF-43,87,2020-05-12 11:05:42\n" +
                "14137,V28 莎翁楼,732,EC-B1-00-00-00-00-C9-31,112,2020-05-12 10:29:13";

        String[] terminals = tidConfig.split("\n");


        historyService.findLastOfflineByTidList(Arrays.asList(terminals));
    }
    /**
     * 处理正常的情况数据
     * @throws Exception
     */
    public void handleNormal() throws Exception {
        String[]tids = ("EC-B1-00-00-00-00-DD-A7\n" +
                "EC-B1-00-00-00-00-FF-E5\n" +
                "EC-B1-00-00-00-00-EE-05\n" +
                "EC-B1-00-00-00-01-1E-22\n" +
                "EC-B1-00-00-00-01-1E-24\n" +
                "EC-B1-00-00-00-00-F7-BE\n" +
                "EC-B1-00-00-00-00-C9-61\n" +
                "EC-B1-00-00-00-01-02-CF\n" +
                "EC-B1-00-00-00-00-CD-6D\n" +
                "EC-B1-00-00-00-00-DF-CC\n" +
                "EC-B1-00-00-00-00-D5-FC\n" +
                "EC-B1-00-00-00-00-D1-D1\n" +
                "EC-B1-00-00-00-01-10-3F\n" +
                "EC-B1-00-00-00-00-DC-74\n" +
                "EC-B1-00-00-00-01-10-22\n" +
                "EC-B1-00-00-00-00-FF-ED\n" +
                "EC-B1-00-00-00-00-DA-1A\n" +
                "EC-B1-00-00-00-01-1D-7E\n" +
                "EC-B1-00-00-00-00-F0-93\n" +
                "EC-B1-00-00-00-00-DF-C4\n" +
                "EC-B1-00-00-00-00-D9-F8\n" +
                "EC-B1-00-00-00-01-1D-31\n" +
                "EC-B1-00-00-00-00-C7-4F\n" +
                "EC-B1-00-00-00-00-F6-50\n" +
                "EC-B1-00-00-00-00-E1-5F\n" +
                "EC-B1-00-00-00-00-F4-E8\n" +
                "EC-B1-00-00-00-01-1E-24\n" +
                "EC-B1-00-00-00-00-DF-FB\n" +
                "EC-B1-00-00-00-00-EF-AC\n" +
                "EC-B1-00-00-00-00-D0-D6\n" +
                "EC-B1-00-00-00-00-D5-99\n" +
                "EC-B1-00-00-00-01-1D-82\n" +
                "EC-B1-00-00-00-01-1D-52\n" +
                "EC-B1-00-00-00-01-1D-51\n" +
                "EC-B1-00-00-00-01-1D-41\n" +
                "EC-B1-00-00-00-00-DA-2B\n" +
                "EC-B1-00-00-00-00-FE-5E\n" +
                "EC-B1-00-00-00-01-03-C3\n" +
                "EC-B1-00-00-00-01-03-6F\n" +
                "EC-B1-00-00-00-00-EA-22\n" +
                "EC-B1-00-00-00-01-1D-72\n" +
                "EC-B1-00-00-00-00-F0-81\n" +
                "EC-B1-00-00-00-00-EB-2B\n" +
                "EC-B1-00-00-00-00-CC-97\n" +
                "EC-B1-00-00-00-01-1E-A1\n" +
                "EC-B1-00-00-00-01-1D-CD\n" +
                "EC-B1-00-00-00-00-DF-05\n" +
                "EC-B1-00-00-00-00-D6-19\n" +
                "EC-B1-00-00-00-00-F6-94\n" +
                "EC-B1-00-00-00-00-D1-9A\n" +
                "EC-B1-00-00-00-00-D9-F6\n" +
                "EC-B1-00-00-00-00-DA-22\n" +
                "EC-B1-00-00-00-00-FE-68\n" +
                "EC-B1-00-00-00-00-EA-50\n" +
                "EC-B1-00-00-00-00-D9-EF\n" +
                "EC-B1-00-00-00-00-CD-C8\n" +
                "EC-B1-00-00-00-00-E6-11\n" +
                "EC-B1-00-00-00-00-ED-A3\n" +
                "EC-B1-00-00-00-01-1D-80\n" +
                "EC-B1-00-00-00-00-F6-89\n" +
                "EC-B1-00-00-00-01-1D-8B\n" +
                "EC-B1-00-00-00-00-D9-ED\n" +
                "EC-B1-00-00-00-01-03-D5\n" +
                "EC-B1-00-00-00-00-F0-F8\n" +
                "EC-B1-00-00-00-00-DF-31\n" +
                "EC-B1-00-00-00-00-DD-A7\n" +
                "EC-B1-00-00-00-00-E6-28\n" +
                "EC-B1-00-00-00-00-F0-7F\n" +
                "EC-B1-00-00-00-00-CE-F2\n" +
                "EC-B1-00-00-00-00-DC-75\n" +
                "EC-B1-00-00-00-00-D1-66\n" +
                "EC-B1-00-00-00-00-EA-F9\n" +
                "EC-B1-00-00-00-00-CA-61\n" +
                "EC-B1-00-00-00-00-C9-21\n" +
                "EC-B1-00-00-00-00-F0-9C\n" +
                "EC-B1-00-00-00-00-DF-45\n" +
                "EC-B1-00-00-00-01-05-CA\n" +
                "EC-B1-00-00-00-00-E5-F8\n" +
                "EC-B1-00-00-00-01-1D-9A\n" +
                "EC-B1-00-00-00-00-EA-E9\n" +
                "EC-B1-00-00-00-00-DD-BB\n" +
                "EC-B1-00-00-00-01-1E-22\n" +
                "EC-B1-00-00-00-00-F6-15\n" +
                "EC-B1-00-00-00-01-1D-76\n" +
                "EC-B1-00-00-00-00-EB-53\n" +
                "EC-B1-00-00-00-00-DD-F2\n" +
                "EC-B1-00-00-00-00-FF-E2\n" +
                "EC-B1-00-00-00-00-F0-DC\n" +
                "EC-B1-00-00-00-00-EE-19\n" +
                "EC-B1-00-00-00-01-1E-23\n" +
                "EC-B1-00-00-00-00-DC-90\n" +
                "EC-B1-00-00-00-00-DD-81\n" +
                "EC-B1-00-00-00-00-E6-3D\n" +
                "EC-B1-00-00-00-00-C9-FA\n" +
                "EC-B1-00-00-00-00-F4-A2\n" +
                "EC-B1-00-00-00-00-CF-EE\n" +
                "EC-B1-00-00-00-00-DC-AA\n" +
                "EC-B1-00-00-00-00-ED-AB\n" +
                "EC-B1-00-00-00-01-0C-12\n" +
                "EC-B1-00-00-00-00-CC-0E\n" +
                "EC-B1-00-00-00-00-DD-C9\n" +
                "EC-B1-00-00-00-01-1D-98\n" +
                "EC-B1-00-00-00-01-05-C9\n" +
                "EC-B1-00-00-00-00-DA-13\n" +
                "EC-B1-00-00-00-00-DF-A3\n" +
                "EC-B1-00-00-00-00-EA-5E\n" +
                "EC-B1-00-00-00-01-1D-35\n" +
                "EC-B1-00-00-00-00-CE-AC\n" +
                "EC-B1-00-00-00-00-F0-7E\n" +
                "EC-B1-00-00-00-00-D7-BE\n" +
                "EC-B1-00-00-00-00-D0-24\n" +
                "EC-B1-00-00-00-01-0D-A2\n" +
                "EC-B1-00-00-00-01-0F-91\n" +
                "EC-B1-00-00-00-01-1E-A2\n" +
                "EC-B1-00-00-00-00-D5-D4\n" +
                "EC-B1-00-00-00-00-FE-75\n" +
                "EC-B1-00-00-00-00-DC-DF\n" +
                "EC-B1-00-00-00-00-EA-0F\n" +
                "EC-B1-00-00-00-00-D5-1F\n" +
                "EC-B1-00-00-00-00-CD-75\n" +
                "EC-B1-00-00-00-00-F4-EA\n" +
                "EC-B1-00-00-00-00-DD-B0\n" +
                "EC-B1-00-00-00-00-DC-9B\n" +
                "EC-B1-00-00-00-00-DD-91\n" +
                "EC-B1-00-00-00-00-F6-1E\n" +
                "EC-B1-00-00-00-00-CD-95\n" +
                "EC-B1-00-00-00-00-C7-9C\n" +
                "EC-B1-00-00-00-01-1D-6A\n" +
                "EC-B1-00-00-00-00-F0-88\n" +
                "EC-B1-00-00-00-00-FA-DF\n" +
                "EC-B1-00-00-00-00-CA-5A\n" +
                "EC-B1-00-00-00-00-E1-49\n" +
                "EC-B1-00-00-00-00-ED-9B\n" +
                "EC-B1-00-00-00-00-ED-91\n" +
                "EC-B1-00-00-00-00-D2-AF").split("\n");
        String[] createDates = ("2019-05-19 23:21:13\n" +
                "2019-05-20 23:21:13\n" +
                "2019-05-16 06:21:13\n" +
                "2019-05-19 06:33:48\n" +
                "2019-05-19 06:33:48\n" +
                "2019-05-09 06:21:13\n" +
                "2019-04-29 23:44:11\n" +
                "2019-04-23 09:10:36\n" +
                "2019-04-23 09:09:02\n" +
                "2019-03-05 20:00:00\n" +
                "2019-04-09 06:00:00\n" +
                "2019-04-08 01:09:55\n" +
                "2019-04-24 00:04:20\n" +
                "2019-04-23 23:59:08\n" +
                "2019-04-23 23:46:59\n" +
                "2019-04-08 16:00:00\n" +
                "2019-04-09 16:00:00\n" +
                "2019-03-06 16:00:00\n" +
                "2019-04-26 06:00:00\n" +
                "2019-04-26 06:00:00\n" +
                "2019-04-11 16:00:00\n" +
                "2019-03-11 16:00:00\n" +
                "2019-03-12 20:00:00\n" +
                "2019-04-22 16:00:00\n" +
                "2019-04-22 16:00:00\n" +
                "2019-04-22 16:00:00\n" +
                "2019-03-21 16:00:00\n" +
                "2019-04-22 16:00:00\n" +
                "2019-04-22 06:00:00\n" +
                "2019-04-22 06:00:00\n" +
                "2019-04-18 20:00:00\n" +
                "2019-04-18 10:00:00\n" +
                "2019-04-17 10:00:00\n" +
                "2019-04-17 06:00:00\n" +
                "2019-04-11 20:00:00\n" +
                "2019-04-08 16:00:00\n" +
                "2019-04-08 16:00:00\n" +
                "2019-04-08 16:00:00\n" +
                "2019-04-08 16:00:00\n" +
                "2019-02-20 16:00:00\n" +
                "2019-02-20 16:00:00\n" +
                "2019-04-08 16:00:00\n" +
                "2019-04-08 16:00:00\n" +
                "2019-04-08 16:00:00\n" +
                "2019-04-08 16:00:00\n" +
                "2019-04-08 16:00:00\n" +
                "2019-04-08 16:00:00\n" +
                "2019-04-08 16:00:00\n" +
                "2019-04-08 16:00:00\n" +
                "2019-04-08 16:00:00\n" +
                "2019-04-08 16:00:00\n" +
                "2019-04-08 16:00:00\n" +
                "2019-04-08 16:00:00\n" +
                "2019-04-08 16:00:00\n" +
                "2019-04-08 16:00:00\n" +
                "2019-04-08 16:00:00\n" +
                "2019-04-08 16:00:00\n" +
                "2019-04-08 16:00:00\n" +
                "2019-04-08 16:00:00\n" +
                "2019-04-08 10:00:00\n" +
                "2019-04-08 16:00:00\n" +
                "2019-04-08 20:00:00\n" +
                "2019-04-08 20:00:00\n" +
                "2019-04-08 20:00:00\n" +
                "2019-04-08 20:00:00\n" +
                "2019-04-09 06:00:00\n" +
                "2019-04-09 06:00:00\n" +
                "2019-04-09 06:00:00\n" +
                "2019-02-20 16:00:00\n" +
                "2019-04-09 06:00:00\n" +
                "2019-04-09 06:00:00\n" +
                "2019-03-30 16:00:00\n" +
                "2019-04-09 06:00:00\n" +
                "2019-04-09 06:00:00\n" +
                "2019-04-09 06:00:00\n" +
                "2019-03-28 16:00:00\n" +
                "2019-04-09 10:00:00\n" +
                "2019-03-28 16:00:00\n" +
                "2019-02-12 20:00:00\n" +
                "2019-04-09 16:00:00\n" +
                "2019-04-09 16:00:00\n" +
                "2019-04-08 16:00:00\n" +
                "2019-04-09 16:00:00\n" +
                "2019-03-27 16:00:00\n" +
                "2019-04-09 16:00:00\n" +
                "2019-03-25 16:00:00\n" +
                "2019-04-09 20:00:00\n" +
                "2019-04-09 20:00:00\n" +
                "2019-03-22 16:00:00\n" +
                "2019-03-22 16:00:00\n" +
                "2019-03-22 16:00:00\n" +
                "2019-04-10 16:00:00\n" +
                "2019-04-10 16:00:00\n" +
                "2019-04-10 16:00:00\n" +
                "2019-04-10 16:00:00\n" +
                "2019-04-10 16:00:00\n" +
                "2019-04-10 16:00:00\n" +
                "2019-04-10 16:00:00\n" +
                "2019-04-10 16:00:00\n" +
                "2019-04-10 16:00:00\n" +
                "2019-04-10 16:00:00\n" +
                "2019-04-10 20:00:00\n" +
                "2019-04-11 06:00:00\n" +
                "2019-04-11 06:00:00\n" +
                "2019-04-11 06:00:00\n" +
                "2019-04-11 06:00:00\n" +
                "2019-03-22 16:00:00\n" +
                "2019-03-22 16:00:00\n" +
                "2019-04-11 16:00:00\n" +
                "2019-04-23 23:12:15\n" +
                "2019-04-25 16:30:59\n" +
                "2019-04-23 08:55:23\n" +
                "2019-04-23 08:53:47\n" +
                "2019-04-09 20:00:00\n" +
                "2019-04-26 10:00:00\n" +
                "2019-04-08 16:00:00\n" +
                "2019-04-10 16:00:00\n" +
                "2019-04-09 16:00:00\n" +
                "2019-04-10 16:00:00\n" +
                "2019-04-08 16:00:00\n" +
                "2019-04-08 16:00:00\n" +
                "2019-04-08 16:00:00\n" +
                "2019-04-08 16:00:00\n" +
                "2019-03-22 20:00:00\n" +
                "2019-04-09 16:00:00\n" +
                "2019-04-08 16:00:00\n" +
                "2019-04-08 16:00:00\n" +
                "2019-04-22 16:00:00\n" +
                "2019-03-22 06:00:00\n" +
                "2019-04-11 10:00:00\n" +
                "2019-04-11 10:00:00\n" +
                "2019-02-16 16:00:00\n" +
                "2019-04-10 06:00:00\n" +
                "2019-04-08 10:00:00\n" +
                "2019-02-14 20:00:00").split("\n");
        String[] updateDates = ("2019-05-21 15:21:40\n" +
                "2019-05-21 15:21:40\n" +
                "2019-05-21 15:21:40\n" +
                "2019-05-21 09:34:01\n" +
                "2019-05-21 09:34:01\n" +
                "2019-05-13 15:21:40\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-05-05 17:00:00\n" +
                "2019-04-29 23:12:40\n" +
                "2019-04-29 16:31:04\n" +
                "2019-04-29 08:55:26\n" +
                "2019-04-29 08:53:51\n" +
                "2019-04-26 20:00:00\n" +
                "2019-04-26 20:00:00\n" +
                "2019-04-26 20:00:00\n" +
                "2019-04-26 20:00:00\n" +
                "2019-04-26 20:00:00\n" +
                "2019-04-26 20:00:00\n" +
                "2019-04-26 20:00:00\n" +
                "2019-04-26 20:00:00\n" +
                "2019-04-26 17:00:00\n" +
                "2019-04-26 16:00:00\n" +
                "2019-04-26 16:00:00\n" +
                "2019-04-26 16:00:00\n" +
                "2019-04-25 06:00:00\n" +
                "2019-04-25 06:00:00\n" +
                "2019-04-25 06:00:00\n" +
                "2019-04-25 06:00:00\n" +
                "2019-04-22 10:00:00\n" +
                "2019-04-13 16:00:00\n" +
                "2019-04-13 16:00:00\n" +
                "2019-04-11 20:00:00\n" +
                "2019-04-10 20:00:00\n" +
                "2019-03-19 16:00:00").split("\n");
        String[] fault_code = ("404\n" +
                "404\n" +
                "404\n" +
                "06\n" +
                "06\n" +
                "06\n" +
                "404\n" +
                "05\n" +
                "05\n" +
                "06\n" +
                "05\n" +
                "05\n" +
                "05\n" +
                "05\n" +
                "05\n" +
                "06\n" +
                "05\n" +
                "05\n" +
                "05\n" +
                "05\n" +
                "05\n" +
                "05\n" +
                "06\n" +
                "05\n" +
                "05\n" +
                "05\n" +
                "06\n" +
                "05\n" +
                "05\n" +
                "05\n" +
                "06\n" +
                "404\n" +
                "06\n" +
                "06\n" +
                "05\n" +
                "05\n" +
                "05\n" +
                "05\n" +
                "05\n" +
                "06\n" +
                "05\n" +
                "05\n" +
                "05\n" +
                "05\n" +
                "404\n" +
                "05\n" +
                "06\n" +
                "05\n" +
                "05\n" +
                "05\n" +
                "05\n" +
                "05\n" +
                "05\n" +
                "05\n" +
                "05\n" +
                "05\n" +
                "05\n" +
                "05\n" +
                "06\n" +
                "05\n" +
                "05\n" +
                "05\n" +
                "05\n" +
                "05\n" +
                "05\n" +
                "404\n" +
                "06\n" +
                "05\n" +
                "05\n" +
                "05\n" +
                "05\n" +
                "16\n" +
                "05\n" +
                "05\n" +
                "05\n" +
                "05\n" +
                "05\n" +
                "05\n" +
                "06\n" +
                "06\n" +
                "05\n" +
                "06\n" +
                "05\n" +
                "05\n" +
                "05\n" +
                "16\n" +
                "05\n" +
                "05\n" +
                "05\n" +
                "06\n" +
                "05\n" +
                "05\n" +
                "05\n" +
                "05\n" +
                "05\n" +
                "05\n" +
                "05\n" +
                "05\n" +
                "05\n" +
                "05\n" +
                "05\n" +
                "06\n" +
                "05\n" +
                "05\n" +
                "05\n" +
                "05\n" +
                "06\n" +
                "05\n" +
                "05\n" +
                "05\n" +
                "05\n" +
                "05\n" +
                "05\n" +
                "05\n" +
                "05\n" +
                "05\n" +
                "05\n" +
                "05\n" +
                "05\n" +
                "05\n" +
                "05\n" +
                "05\n" +
                "05\n" +
                "05\n" +
                "05\n" +
                "05\n" +
                "06\n" +
                "06\n" +
                "05\n" +
                "05\n" +
                "05\n" +
                "05\n" +
                "05\n" +
                "05\n" +
                "05").split("\n");
        assert updateDates.length == tids.length && createDates.length == tids.length;
        String[] repairDates = new String[tids.length];

        this.doTask(tids, createDates, repairDates, updateDates, fault_code);

        handleRepaire();
    }

    private void handleRepaire() {
        String[] tids = ("EC-B1-00-00-00-00-EF-AC\n" +
                "EC-B1-00-00-00-01-03-F4\n" +
                "EC-B1-00-00-00-00-DC-EF\n" +
                "EC-B1-00-00-00-01-05-69\n" +
                "EC-B1-00-00-00-00-CC-39\n" +
                "EC-B1-00-00-00-00-F8-70\n" +
                "EC-B1-00-00-00-00-DA-5A\n" +
                "EC-B1-00-00-00-00-EB-43\n" +
                "EC-B1-00-00-00-00-DB-3C\n" +
                "EC-B1-00-00-00-01-1D-B7").split("\n");
        String[] createDates = ("2019-01-11 20:00:00\n" +
                "2019-04-08 16:00:00\n" +
                "2019-04-09 06:00:00\n" +
                "2019-04-09 16:00:00\n" +
                "2019-04-08 16:00:00\n" +
                "2019-04-08 16:00:00\n" +
                "2019-04-10 16:00:00\n" +
                "2019-03-21 16:00:00\n" +
                "2019-04-09 10:00:00\n" +
                "2019-04-10 16:00:00").split("\n");
        String[] repairDates = ("2019-04-01 14:16:21\n" +
                "2019-04-09 23:57:00\n" +
                "2019-04-11 00:05:02\n" +
                "2019-04-11 00:06:04\n" +
                "2019-04-11 00:08:09\n" +
                "2019-04-11 23:51:40\n" +
                "2019-04-18 22:39:01\n" +
                "2019-04-22 00:02:19\n" +
                "2019-04-23 00:01:05\n" +
                "2019-05-22 18:26:58").split("\n");
        String[] fault_type = ("05\n" +
                "06\n" +
                "06\n" +
                "06\n" +
                "06\n" +
                "06\n" +
                "404\n" +
                "06\n" +
                "06\n" +
                "06").split("\n");

        doTask(tids, createDates, repairDates, new String[repairDates.length], fault_type);
    }

    private void doTask(String[] tids, String[] createDates, String[] repairDates, String[] updateDates, String[] faultType) {
        for (int i = 0; i < tids.length; i++) {
            this.historyService.exportDiagnose(tids[i], createDates[i], repairDates[i], updateDates[i], faultType[i]);
        }
    }
}
